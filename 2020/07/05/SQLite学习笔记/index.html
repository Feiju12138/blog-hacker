<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>【笔记】SQLite学习笔记 | 绯鞠的博客 | 连蜜统治世界!!!💕</title>

  
  <meta name="author" content="绯鞠">
  

  
  <meta name="description" content="捕捉一只爱折腾的绯鞠">
  

  
  
  <meta name="keywords" content="Database,SQLite">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="【笔记】SQLite学习笔记"/>

  <meta property="og:site_name" content="绯鞠的博客"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="绯鞠的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">绯鞠的博客</a>
    </h1>
    <p class="site-description">连蜜统治世界!!!💕</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/about/">关于</a></li>
      
        <li><a href="/tags/">标签</a></li>
      
        <li><a href="/categories/">分类</a></li>
      
        <li><a href="/archives/">归档</a></li>
      
        <li><a href="/links/">友链</a></li>
      
        <li><a href="/reward/">赞助</a></li>
      
        <li><a href="/atom.xml">订阅</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">主题</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>【笔记】SQLite学习笔记</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/07/05/SQLite学习笔记/" rel="bookmark">
        <time class="entry-date published" datetime="2020-07-05T01:33:01.000Z">
          2020-07-05
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>SQLite是遵守ACID的关系数据库管理系统，它包含在一个相对小的C程序库中。与许多其它数据库管理系统不同，SQLite不是一个客户端&#x2F;服务器结构的数据库引擎，而是被集成在用户程序中。（<a href="/302.html?target=https://zh.wikipedia.org/wiki/SQLite">维基百科</a>）</p>
<span id="more"></span>

<h2 id="安装sqlite"><a href="#安装sqlite" class="headerlink" title="安装sqlite"></a>安装sqlite</h2><h3 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h3><ul>
<li>MacOS新版本预装sqlite，如果没有可以使用brew安装</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install sqlite</span><br></pre></td></tr></table></figure>

<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install sqlite3</span><br></pre></td></tr></table></figure>

<h2 id="启动SQLite"><a href="#启动SQLite" class="headerlink" title="启动SQLite"></a>启动SQLite</h2><ul>
<li>在SQLite中可以直接使用命令操作数据库</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite3</span><br></pre></td></tr></table></figure>

<h3 id="直接执行命令"><a href="#直接执行命令" class="headerlink" title="直接执行命令"></a>直接执行命令</h3><ul>
<li>只执行一条命令时，也可以不启动SQLite，直接将命令追加到后面</li>
</ul>
<blockquote>
<p><code>&lt;name&gt;.db</code>：想要操作的数据库<br><code>.show</code>：一条SQLite命令</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite3 &lt;name&gt;.db .show</span><br></pre></td></tr></table></figure>

<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><table>
<thead>
<tr>
<th>数据类型</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>NULL</td>
<td>空值</td>
</tr>
<tr>
<td>int</td>
<td>整型</td>
</tr>
<tr>
<td>integer</td>
<td>带符号的整型。根据值的大小，自动存储在1、2、3、4、6、8字节中</td>
</tr>
<tr>
<td>real</td>
<td>浮点型。存储8字节的小数</td>
</tr>
<tr>
<td>text</td>
<td>文本型</td>
</tr>
<tr>
<td>blob</td>
<td>blob型</td>
</tr>
</tbody></table>
<h2 id="SQLite命令"><a href="#SQLite命令" class="headerlink" title="SQLite命令"></a>SQLite命令</h2><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-- 注释内容</span><br></pre></td></tr></table></figure>

<h3 id="查看帮助"><a href="#查看帮助" class="headerlink" title="查看帮助"></a>查看帮助</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.help</span><br></pre></td></tr></table></figure>

<h3 id="打开或创建数据库文件"><a href="#打开或创建数据库文件" class="headerlink" title="打开或创建数据库文件"></a>打开或创建数据库文件</h3><ul>
<li>SQLite是以文件的形式存储数据的，所以打开一个数据库实质上就是打开一个<code>.db</code>文件</li>
</ul>
<blockquote>
<p><code>&lt;name&gt;</code>：想要创建或想要打开的数据库文件名</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.open &lt;name&gt;.db</span><br><span class="line"></span><br><span class="line">sqlite3 &lt;name&gt;.db</span><br></pre></td></tr></table></figure>

<h3 id="查看当前数据库的信息"><a href="#查看当前数据库的信息" class="headerlink" title="查看当前数据库的信息"></a>查看当前数据库的信息</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.show</span><br></pre></td></tr></table></figure>

<h3 id="展示所有数据库"><a href="#展示所有数据库" class="headerlink" title="展示所有数据库"></a>展示所有数据库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.databases</span><br></pre></td></tr></table></figure>

<h3 id="展示所有数据表"><a href="#展示所有数据表" class="headerlink" title="展示所有数据表"></a>展示所有数据表</h3><ul>
<li>实质上就是打印数据表的创建语句</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.schema</span><br></pre></td></tr></table></figure>

<h3 id="备份数据库（导出）"><a href="#备份数据库（导出）" class="headerlink" title="备份数据库（导出）"></a>备份数据库（导出）</h3><ul>
<li>使用输入重定向导出数据库</li>
</ul>
<blockquote>
<p><code>&lt;file&gt;.sql</code>：导出为sql文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite3 &lt;name&gt;.db .dump &gt; &lt;file&gt;.sql</span><br></pre></td></tr></table></figure>

<h3 id="还原数据库（导入）"><a href="#还原数据库（导入）" class="headerlink" title="还原数据库（导入）"></a>还原数据库（导入）</h3><ul>
<li>使用输入重定向导入数据库</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite3 &lt;name&gt;.db &lt; &lt;file&gt;.sql</span><br></pre></td></tr></table></figure>

<h2 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h2><h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><blockquote>
<p><code>&lt;table_name&gt;</code>：数据表名<br><code>&lt;field_name&gt;</code>：字段名<br><code>&lt;field_type&gt;</code>：字段类型</p>
</blockquote>
<blockquote>
<p><code>PRIMARY KEY</code>：定义为主键</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span>(</span><br><span class="line">  <span class="operator">&lt;</span>field_name_1<span class="operator">&gt;</span> <span class="operator">&lt;</span>field_type_1<span class="operator">&gt;</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">  <span class="operator">&lt;</span>field_name_2<span class="operator">&gt;</span> <span class="operator">&lt;</span>field_type_2<span class="operator">&gt;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h3><h4 id="指定字段"><a href="#指定字段" class="headerlink" title="指定字段"></a>指定字段</h4><ul>
<li>指定字段只需要在对应字段上添加数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span>(<span class="operator">&lt;</span>field_name_1<span class="operator">&gt;</span>, <span class="operator">&lt;</span>field_name_2<span class="operator">&gt;</span>, ...) <span class="keyword">VALUES</span>(<span class="operator">&lt;</span>value_1<span class="operator">&gt;</span>, <span class="operator">&lt;</span>value_2<span class="operator">&gt;</span>, ...);</span><br></pre></td></tr></table></figure>

<h4 id="不指定字段"><a href="#不指定字段" class="headerlink" title="不指定字段"></a>不指定字段</h4><ul>
<li>不指定字段表示全部字段都要添加数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span> <span class="keyword">VALUES</span>(<span class="operator">&lt;</span>value_1<span class="operator">&gt;</span>, <span class="operator">&lt;</span>value_2<span class="operator">&gt;</span>, ...);</span><br></pre></td></tr></table></figure>

<h3 id="复制表中的数据"><a href="#复制表中的数据" class="headerlink" title="复制表中的数据"></a>复制表中的数据</h3><h4 id="指定字段-1"><a href="#指定字段-1" class="headerlink" title="指定字段"></a>指定字段</h4><blockquote>
<p><code>&lt;new_table_name&gt;</code>：新的表<br><code>&lt;select&gt;</code>：select语句</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="operator">&lt;</span>new_table_name<span class="operator">&gt;</span> (<span class="operator">&lt;</span>field_name_1<span class="operator">&gt;</span>, <span class="operator">&lt;</span>field_name_2<span class="operator">&gt;</span>, ...) <span class="operator">&lt;</span><span class="keyword">select</span><span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="不指定字段-1"><a href="#不指定字段-1" class="headerlink" title="不指定字段"></a>不指定字段</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="operator">&lt;</span>new_table_name<span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="keyword">select</span><span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h3><h4 id="查询所有字段"><a href="#查询所有字段" class="headerlink" title="查询所有字段"></a>查询所有字段</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="查询指定字段"><a href="#查询指定字段" class="headerlink" title="查询指定字段"></a>查询指定字段</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>field_name_1<span class="operator">&gt;</span>, <span class="operator">&lt;</span>field_name_2<span class="operator">&gt;</span>, ... <span class="keyword">FROM</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="限定语句"><a href="#限定语句" class="headerlink" title="限定语句"></a>限定语句</h4><ul>
<li>通过where实现限定select语句</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span> <span class="keyword">WHERE</span> <span class="operator">&lt;</span>field_name<span class="operator">&gt;=</span><span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">1</span> <span class="operator">+</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h5 id="数值运算符"><a href="#数值运算符" class="headerlink" title="数值运算符"></a>数值运算符</h5><table>
<thead>
<tr>
<th>运算符</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>加</td>
</tr>
<tr>
<td>-</td>
<td>减</td>
</tr>
<tr>
<td>*</td>
<td>乘</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>除</td>
</tr>
<tr>
<td>&#x3D;&#x3D;</td>
<td>相等</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>不等</td>
</tr>
<tr>
<td>&lt;&gt;</td>
<td>不等</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>大于等于</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小于等于</td>
</tr>
<tr>
<td>and</td>
<td>并且</td>
</tr>
<tr>
<td>or</td>
<td>或者</td>
</tr>
<tr>
<td>is</td>
<td>是</td>
</tr>
<tr>
<td>is not</td>
<td>不是</td>
</tr>
</tbody></table>
<h3 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h3><blockquote>
<p><code>&lt;where&gt;</code>：where子句</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 不加<span class="keyword">where</span>子句表示修改全部数据</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span> <span class="keyword">SET</span> <span class="operator">&lt;</span>field_name<span class="operator">&gt;=</span><span class="operator">&lt;</span><span class="keyword">value</span><span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># 加<span class="keyword">where</span>子句表示修改限定的数据</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span> <span class="keyword">SET</span> <span class="operator">&lt;</span>field_name<span class="operator">&gt;=</span><span class="operator">&lt;</span><span class="keyword">value</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="keyword">where</span><span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">不加<span class="built_in">where</span>子句表示删除全部数据</span></span><br><span class="line">DELETE FROM &lt;table_name&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">加<span class="built_in">where</span>子句表示删除限定的数据</span></span><br><span class="line">DELETE FROM &lt;table_name&gt; &lt;where&gt;</span><br></pre></td></tr></table></figure>

<h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Database/">Database</a><a href="/tags/SQLite/">SQLite</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 绯鞠
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>