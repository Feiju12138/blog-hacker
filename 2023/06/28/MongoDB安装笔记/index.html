<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>【笔记】MongoDB安装笔记 | 绯鞠的博客 | 连蜜统治世界!!!💕</title>

  
  <meta name="author" content="绯鞠">
  

  
  <meta name="description" content="捕捉一只爱折腾的绯鞠">
  

  
  
  <meta name="keywords" content="Database,MongoDB">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="【笔记】MongoDB安装笔记"/>

  <meta property="og:site_name" content="绯鞠的博客"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="绯鞠的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">绯鞠的博客</a>
    </h1>
    <p class="site-description">连蜜统治世界!!!💕</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/about/">关于</a></li>
      
        <li><a href="/tags/">标签</a></li>
      
        <li><a href="/categories/">分类</a></li>
      
        <li><a href="/archives/">归档</a></li>
      
        <li><a href="/links/">友链</a></li>
      
        <li><a href="/reward/">赞助</a></li>
      
        <li><a href="/atom.xml">订阅</a></li>
      
        <li><a target="_blank" rel="noopener" href="//stellar.loli.fj.cn">主题</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>【笔记】MongoDB安装笔记</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2023/06/28/MongoDB安装笔记/" rel="bookmark">
        <time class="entry-date published" datetime="2023-06-28T06:44:17.000Z">
          2023-06-28
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>MongoDB安装笔记</p>
<span id="more"></span>

<h2 id="安装MongoDB"><a href="#安装MongoDB" class="headerlink" title="安装MongoDB"></a>安装MongoDB</h2><ul>
<li>MongoDB的版本号分为3段，其中第2段为奇数时表示开发版，第2段为偶数时表示稳定版</li>
</ul>
<h3 id="通过安装包安装社区版"><a href="#通过安装包安装社区版" class="headerlink" title="通过安装包安装社区版"></a>通过安装包安装社区版</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.mongodb.com/try/download/community">https://www.mongodb.com/try/download/community</a></li>
</ul>
<h3 id="MacOS通过brew安装社区版"><a href="#MacOS通过brew安装社区版" class="headerlink" title="MacOS通过brew安装社区版"></a>MacOS通过brew安装社区版</h3><ul>
<li>MongoDB 已经宣布不再开源，从2019年9月2日开始 ，HomeBrew 也从核心仓库 (#43770) 当中移除了mongodb 模块</li>
<li>不过想要继续使用<code>brew install mongodb</code>也是可以的，MongoDB 官方提供了一个单独的 HomeBrew 的社区版本安装：<a href="/302.html?target=https://github.com/mongodb/homebrew-brew">https://github.com/mongodb/homebrew-brew</a> 。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew tap mongodb/brew</span><br><span class="line">brew install mongodb-community</span><br></pre></td></tr></table></figure>

<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><h3 id="MacOS-x2F-Linux"><a href="#MacOS-x2F-Linux" class="headerlink" title="MacOS&#x2F;Linux"></a>MacOS&#x2F;Linux</h3><h4 id="创建数据库文件存放目录和日志文件存放目录"><a href="#创建数据库文件存放目录和日志文件存放目录" class="headerlink" title="创建数据库文件存放目录和日志文件存放目录"></a>创建数据库文件存放目录和日志文件存放目录</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /usr/local/mongodb/db</span><br><span class="line">mkdir -p /usr/local/mongodb/log</span><br></pre></td></tr></table></figure>

<h4 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch mkdir -p /usr/local/mongodb/mongodb.conf</span><br></pre></td></tr></table></figure>

<h4 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h4><blockquote>
<p><code>systemLog.destination</code>：指定日志输出方式，缺省值会在控制台输出，<code>file</code>会在文件输出<br><code>systemLog.path</code>：日志文件存放位置<br><code>systemLog.logAppend</code>：日志输出时是否追加模式，如果为true每次重启都会追加之前的日志，如果为false每次重启都会覆盖日志<br><code>storage.dbPath</code>：指定数据库文件存储位置<br><code>storage.journal.enabled</code>：是否启动持久性日志，缺省值为true表示在mongodb宕机重启时会恢复宕机之前的状态<br><code>processManagement.fork</code>：是否以守护进程的方式启动，缺省值为true表示以守护进程的方式启动<br><code>net.bindIp</code>：配置IP</p>
<blockquote>
<p><code>&lt;ip&gt;</code>：局域网IP</p>
</blockquote>
<p><code>net.port</code>：配置端口号<br><code>security.authorization</code>：是否开启认证</p>
<blockquote>
<p><code>enabled</code>：开启认证</p>
</blockquote>
</blockquote>
<figure class="highlight text"><figcaption><span>/usr/local/mongodb/mongodb.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">systemLog:</span><br><span class="line">  destination: file</span><br><span class="line">  path: &quot;&lt;dir&gt;&quot;</span><br><span class="line">  logAppend: true</span><br><span class="line">storage:</span><br><span class="line">  dbPath: &quot;/usr/local/mongodb/db&quot;</span><br><span class="line">  journal:</span><br><span class="line">    enabled: true</span><br><span class="line">processManagement:</span><br><span class="line">  fork: true</span><br><span class="line">net:</span><br><span class="line">  bindIp: localhost,&lt;ip&gt;</span><br><span class="line">  port: 27017</span><br><span class="line">security:</span><br><span class="line">  authorization: enabled</span><br></pre></td></tr></table></figure>

<h3 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h3><ul>
<li>MacOS通过brew安装的MongoDB的配置文件路径<ul>
<li>配置文件：<code>/usr/local/etc/mongod.conf</code></li>
<li>日志文件：<code>/usr/local/var/log/mongodb</code></li>
<li>数据库文件<code>/usr/local/var/mongodb</code></li>
</ul>
</li>
</ul>
<h2 id="MongoDB服务"><a href="#MongoDB服务" class="headerlink" title="MongoDB服务"></a>MongoDB服务</h2><h3 id="Windows-x2F-Linux-x2F-MacOS"><a href="#Windows-x2F-Linux-x2F-MacOS" class="headerlink" title="Windows&#x2F;Linux&#x2F;MacOS"></a>Windows&#x2F;Linux&#x2F;MacOS</h3><h4 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h4><blockquote>
<p><code>--dbpath=&lt;dir&gt;</code>：指定存放数据库文件的目录<br><code>--config=&lt;dir&gt;/mongod.conf</code>、<code>-f &lt;dir&gt;/mongod.conf</code>：指定配置文件mongod.conf的位置<br><code>--auth</code>：开启认证</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongod</span><br></pre></td></tr></table></figure>

<h4 id="停止服务"><a href="#停止服务" class="headerlink" title="停止服务"></a>停止服务</h4><ul>
<li>登录到MongoDB控制台后通过内置函数停止服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use admin</span><br><span class="line">db.shutdownServer()</span><br></pre></td></tr></table></figure>

<h3 id="MacOS-1"><a href="#MacOS-1" class="headerlink" title="MacOS"></a>MacOS</h3><ul>
<li>MacOS通过brew安装的MongoDB可以通过services管理服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew services start mongodb-community</span><br><span class="line">brew services stop mongodb-community</span><br><span class="line">brew services restart mongodb-community</span><br></pre></td></tr></table></figure>

<h2 id="MongoDB客户端"><a href="#MongoDB客户端" class="headerlink" title="MongoDB客户端"></a>MongoDB客户端</h2><h3 id="旧版本"><a href="#旧版本" class="headerlink" title="旧版本"></a>旧版本</h3><blockquote>
<p><code>--host=</code>：指定IP地址</p>
<blockquote>
<p><code>127.0.0.1</code>：IP地址缺省值</p>
</blockquote>
<p><code>--port=</code>：指定端口号</p>
<blockquote>
<p><code>27017</code>：端口号缺省值</p>
</blockquote>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo</span><br></pre></td></tr></table></figure>

<h3 id="新版本"><a href="#新版本" class="headerlink" title="新版本"></a>新版本</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongosh</span><br></pre></td></tr></table></figure>

<h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-os-x/">MongoDB官方文档</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1bJ411x7mq/">哔哩哔哩——黑马程序员</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Database/">Database</a><a href="/tags/MongoDB/">MongoDB</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2024 绯鞠
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>